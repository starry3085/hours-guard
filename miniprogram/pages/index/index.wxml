<view class="page-container">
  <!-- 页面标题 - 添加点击事件 -->
  <view class="header">
    <text class="title" bindtap="toggleMode">{{isToday ? '今日打卡' : '补录打卡'}}</text>
    <picker 
      mode="date" 
      value="{{selectedDate}}"
      start="2020-01-01"
      end="2030-12-31"
      bindchange="onDateChange"
      class="date-picker-simple">
      <view class="date-display-simple">
        <text class="date-text-simple">{{selectedDate}}</text>
      </view>
    </picker>
  </view>



  <!-- 打卡记录卡片 -->
  <view class="record-card">
    <view class="record-list">
      <view class="record-item">
        <view class="record-row">
          <view class="record-label-container">
            <view class="record-icon record-icon-in"></view>
            <text class="record-label">上班时间</text>
          </view>
          <view class="record-time-container">
            <text class="record-time">{{todayRecord.on ? todayRecord.on : '未打卡'}}</text>
          </view>
        </view>
      </view>
      
      <view class="record-item">
        <view class="record-row">
          <view class="record-label-container">
            <view class="record-icon record-icon-out"></view>
            <text class="record-label">下班时间</text>
          </view>
          <view class="record-time-container">
            <text class="record-time">{{todayRecord.off ? todayRecord.off : '未打卡'}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- 打卡按钮组 -->
  <view class="action-section">
    <!-- 上班打卡按钮 -->
    <view class="punch-btn {{!todayRecord.on ? 'punch-in-active' : 'punch-disabled'}}" bindtap="checkIn">
      <view class="btn-content">
        <text class="btn-text">{{isToday ? '上班打卡' : '补录上班'}}</text>
      </view>
    </view>
    
    <!-- 下班打卡按钮 -->
    <view class="punch-btn {{!todayRecord.off && todayRecord.on ? 'punch-out-active' : 'punch-disabled'}}" bindtap="checkOut">
      <view class="btn-content">
        <text class="btn-text">{{isToday ? '下班打卡' : '补录下班'}}</text>
      </view>
    </view>
  </view>

  <!-- 提示信息 -->
  <view class="tips-section data-backup-notice">
    <view class="tip-item">
      <view class="tip-icon"></view>
      <text class="tip-text bold-tip">所有数据仅保存在本机，请定期导出备份</text>
    </view>
  </view>

</view>
