<view class="page-container">
  <!-- 页面标题 -->
  <view class="header">
    <text class="title">记录导出</text>
  </view>
  
  <!-- 月份选择卡片 -->
  <view class="month-card">
    <view class="card-header">
      <text class="card-title">选择导出月份</text>
    </view>
    
    <picker mode="date" fields="month" value="{{selectedDate}}" bindchange="onDateChange" class="month-picker">
      <view class="picker-display">
        <view class="picker-icon">
          <view class="calendar-icon"></view>
        </view>
        <text class="selected-month">{{selectedMonth}}</text>
        <view class="picker-arrow">›</view>
      </view>
    </picker>
  </view>





  <!-- 操作按钮 -->
  <view class="action-section">
    <view class="custom-btn {{recordCount === 0 ? 'custom-btn-disabled' : 'custom-btn-out'}}" 
          bindtap="previewFile">
      <text>导出预览</text>
    </view>
    
    <view class="custom-btn {{isGenerating ? 'custom-btn-disabled' : (recordCount === 0 ? 'custom-btn-disabled' : 'custom-btn-out')}}" 
          bindtap="makeReport">
      <text>{{isGenerating ? '生成中...' : '导出记录'}}</text>
    </view>
  </view>

  <!-- 功能说明 -->
  <view class="info-section">
    <view class="info-card">
      <text class="info-text">导出记录为文本格式</text>
    </view>
  </view>

  <!-- 提示信息 -->
  <view class="tips-section data-backup-notice">
    <view class="tip-item">
      <view class="tip-icon"></view>
      <text class="tip-text bold-tip">所有数据仅保存在本机，请定期导出备份</text>
    </view>
  </view>
</view> 